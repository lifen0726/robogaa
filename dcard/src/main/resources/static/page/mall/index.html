<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>商品管理</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://unpkg.com/vue@3"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>
  <body>

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="/mall/index">我的商店</a>
    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a class="nav-link" href="/mall/cart">購物車 <span id="cartCount" class="badge badge-pill badge-primary">0</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/mall/order">我的訂單</a>
      </li>
    </ul>
  </nav>


    <div id="app" class="container mt-3">
      <div class="mb-3">
        <form @submit.prevent="fetchProducts" class="form-inline">
          <input type="text" v-model="searchQuery.search" placeholder="輸入產品名稱搜尋" class="form-control mr-2" />
          <select v-model="searchQuery.category" class="form-control mr-2">
            <option value="">所有類別</option>
            <option value="ELECTRONICS">電子產品</option>
            <option value="FOOD">食品</option>
          </select>
          <button type="submit" class="btn btn-primary">搜尋</button>
        </form>
      </div>

      <h1>商品列表</h1>
      <div class="row">
        <div v-for="product in products" :key="product.productId" class="col-md-3 mb-3">
          <div class="card">
            <img :src="product.imageUrl" alt="商品圖片" class="card-img-top" style="height: 200px; object-fit: cover;">
            <div class="card-body">
              <h5 class="card-title">{{ product.productName }}</h5>
              <p class="card-text">{{ product.price }}</p>
              <a :href="`/mall/product?id=${product.productId}`" class="btn btn-primary">查看詳情</a>
<!--              <a :href="`product.html?id=${product.productId}`" class="btn btn-primary">查看詳情</a>-->
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="../../js/app.js"></script>

  </body>
</html>