<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>論壇</title>
<link rel="stylesheet" href="style.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<style>
body {
	margin: 0;
	padding: 0;
	background-color: rgb(70, 102, 186); /* 设置背景颜色 */
	display: flex;
	justify-content: center;
	align-items: center;
}

.container {
	background-color: transparent; /* 设置容器背景颜色透明 */
}

.content-box {
	height: 100vh;
	background-color: white; /* 设置框的背景颜色 */
	padding: 20px;
	border-radius: 10px;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* 添加阴影效果 */
	list-style-type: none;
}
</style>
</head>
<body>
	<header>
		<h1>Logo</h1>
		<nav>
			<a href="#" class="active">Home</a> <a href="#">About</a>
			<div class="dropdown" onmouseover="showDropdown()"
				onmouseout="hideDropdown()">
				<a href="#" class="dropbtn">Services</a>
				<div class="dropdown-content" id="dropdownContent">
					<a href="#">Shopping</a> <a href="#">Forums</a>
				</div>
			</div>
			<a href="#">Contact</a>
		</nav>
	</header>
	<div class="container">
		<div class="content-box">
			<!-- 在这里放置您的资料 -->
			<h3 id="categoryList"></h3>
			<ul id="threadList"></ul>
		</div>
	</div>
	<script>
	$(document).ready(function() {
	    // Function to fetch and display threads
	    function fetchThreads() {
	        $.ajax({
	            url: '/threads/findAll',
	            type: 'GET',
	            success: function(data) {
	                displayThreads(data);
	            },
	            error: function(xhr, status, error) {
	                console.error('Error fetching threads:', error);
	            }
	        });
	    }

	    // Function to fetch and display category name
	    function fetchCategoryName(categoryId) {
	        $.ajax({
	            url: '/categories/' + categoryId + '/name',
	            type: 'GET',
	            success: function(categoryName) {
	                $('#categoryList').append('<li>' + categoryName + '</li>');
	            },
	            error: function(xhr, status, error) {
	                console.error('Error fetching category name:', error);
	            }
	        });
	    }

	    // Function to display threads in the list
	    function displayThreads(threads) {
	        var threadList = $('#threadList');
	        threadList.empty();
	        threads.forEach(function(thread) {
	            threadList.append('<li>' + thread.title + '</li>');
	        });
	    }

	    // Initial fetch when the page loads
	    fetchThreads();

	    // Fetch and display category name with ID 4
	    fetchCategoryName(4);
	});

	</script>
</body>
</html>

