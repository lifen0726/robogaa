<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>論壇</title>
<link rel="stylesheet" href="styles.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<style>
/* 基本設定 */
body, html {
	margin: 0;
	padding: 0;
}

.container {
	display: flex;
	border-bottom: 1px solid #ddd; /* 添加分隔线 */
}

/* Header */
header {
	background-color: rgb(70, 102, 186);
	color: #fff;
	padding: 10px 0;
	text-align: center;
}

/* Sidebar */
.sidebar {
	flex: 1;
	background-color: #f4f4f4;
	padding: 20px;
}

/* 主要內容 */
.content {
	flex: 2;
	padding-left: 50px; /*  左方內距 18px  */ 
	padding-right : 50px;

	background-color: white; /* 设置框的背景颜色 */
	border-radius: 10px;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* 添加阴影效果 */
	list-style-type: none;

	
}

.separator {
	border-top: 1px solid #ddd;
	margin: 10px 0;
}

/* Footer */
footer {
	background-color: rgb(70, 102, 186);
	color: #fff;
	padding: 10px 0;
	text-align: center;
}
</style>
</head>
<body>
	<header>
		<h1>Logo</h1>
		<nav>
			<a href="#" class="active">Home</a> <a href="#">About</a>
			<div class="dropdown" onmouseover="showDropdown()"
				onmouseout="hideDropdown()">
				<a href="#" class="dropbtn">Services</a>
				<div class="dropdown-content" id="dropdownContent">
					<a href="#">Shopping</a> <a href="#">Forums</a>
				</div>
			</div>
			<a href="#">Contact</a>
		</nav>
	</header>

	<div class="container">
		<nav class="sidebar">
			<!-- 放置導覽列內容 -->
			<ul>
				<li><a href="Teeth.html" >牙齒矯正版</a></li>
				<li><a href="softwareEngineer.html">軟體工程師版</a></li>
				<li><a href="Stock.html">股票版</a></li>
			</ul>
		</nav>

		<main class="content">
			<h2 id="categoryList"></h2>
			<!-- 放置文章內容 -->
			<article>
				<div class="container">
					<div class="content-box">
						<!-- 在这里放置您的资料 -->
						<ul id="threadList"></ul>
					</div>
				</div>
			</article>
		</main>

		<aside class="sidebar">
			<!-- 放置廣告內容 -->
			<h3 id="category"></h3>
			<p>廣告內容</p>
		</aside>
	</div>

	<footer>
		<!-- 放置 footer 內容 -->
		<p>&copy; 2024 網站版權所有</p>
	</footer>
	<script>
    $(document).ready(function() {
        var categoryId = 4;

        function fetchThreads() {
            $.ajax({
                url: '/threads/category/' + categoryId,
                type: 'GET',
                success: function(data) {
                    displayThreads(data);
                },
                error: function(xhr, status, error) {
                    console.error('Error fetching threads:', error);
                }
            });
        }

        function fetchCategoryName() {
            $.ajax({
                url: '/categories/' + categoryId + '/name',
                type: 'GET',
                success: function(categoryName) {
                    $('#categoryList').append('<li>' + categoryName + ' 版</li>');
                },
                error: function(xhr, status, error) {
                    console.error('Error fetching category name:', error);
                }
            });
        }

        function displayThreads(threads) {
            var threadList = $('#threadList');
            threadList.empty();
            threads.forEach(function(thread, index) {
                threadList.append('<li>' + thread.memberid + '</li>');
                threadList.append('<li>' + thread.title + '</li>');
                threadList.append('<li>' + thread.content + '</li>');
                if (index < threads.length - 1) {
                    threadList.append('<hr class="separator">');
                }
            });
        }

        fetchThreads();
        fetchCategoryName();
    });
</script>

</body>
</html>
